\chapter{MÃ©thodologie}
\minitoc%

\warn{toute la rÃ©daction de ce chapitre est une Ã©bauche grossiÃ¨re, destinÃ©e Ã  former le squelette du rapport. Le processus de rÃ©daction est itÃ©ratif sur toute la durÃ©e du stage. avancement du stage : 2 / 6 mois}


\section{DonnÃ©es Fonctionnelles : l'essentiel}
    \subsection{Cas indÃ©pendant : donnÃ©es fonctionnelles}

    \subsection{Cas non indÃ©pendant : sÃ©ries temporelles de donnÃ©es fonctionnelles}
        
    \input{content/chapter_1/fda_ts.tex}

\section{Estimation de la rÃ©gularitÃ© locale des trajectoires}

\subsection{Ce qu'on entend par rÃ©gularitÃ© locale}

Longtemps, il Ã©tait cru que les fonctions continues Ã©taient dÃ©rivables presque partout. C'est notamment Weierstrass qui a dÃ©montrÃ© qu'il existe des fonctions continues partout mais dÃ©rivable nulle part. PoincarÃ© notamment disait de tels objets qu'ils n'existaient que pour contredire le travail des pÃ¨res. 
% @ todo : âš ï¸ pertinence de l'intro 
\editorwarn{s'assurer de la pertinence : Holder => UC ce qui est quand mÃªme bien plus rÃ©gulier que continu dans le cadre de la fonction de Weierstrass}
Cependant, des objets manipulÃ©s tous les jours comme le monde de la finance notamment traitent des processus qui sont fondamentalement irrÃ©guliers (au point de vue de l'analyse, oÃ¹ l'on traite souvent des fonctions au moins dÃ©rivables). Il est donc important de pouvoir quantifier la rÃ©gularitÃ© d'une fonction de faÃ§on plus fine que le nombre de dÃ©rivÃ©es qu'elle possÃ¨de. 

Nous allons repasser rapidement en revue les diffÃ©rents concepts de rÃ©gularitÃ© pour mettre l'emphase dans ce que l'on considÃ¨re comme rÃ©gularitÃ© locale.

Afin de savoir Ã  quel niveau de rÃ©gularitÃ© nous souhaitons estimer, il est important de garder en tÃªte un ordre de diffÃ©rents niveaux de rÃ©gularitÃ© rÃ©sumÃ© par les relations suivantes :

$$\textsf{Lipschitz} \implies \textsf{HÃ¶lder} \implies \underbracket{\colorize{\textsf{Localement HÃ¶lder}}}_{\textsf{ce qui nous intÃ©resse}} \implies \textsf{UniformÃ©ment continue} \implies \textsf{Continue}$$

\begin{itemize}
    \item ContinuitÃ© :
    $$(\forall \varepsilon > 0) \, (\forall x) (\exists \delta_{\colorize x} > 0) (\forall y) \, |x-y| < \delta \implies |f(x) - f(y)| < \varepsilon$$
    \item Uniforme ContinuitÃ© :
    $$(\forall \varepsilon > 0) \, (\exists \delta > 0) (\forall x,y ) \, |x-y| < \delta \implies |f(x) - f(y)| < \varepsilon$$
    \item Lipschitz :
    $$(\forall x,y) \quad |f(x) - f(y)| < L |x-y|$$
    \item HÃ¶lder :
    $$
    \begin{cases}
    (\forall x,y) \quad |f(x) - f(y)| < L_\alpha |x-y|^\alpha
    \\
    0 < \alpha \leq 1 
    \end{cases}
    $$
    \brain{
    une fonction lipschitz est une fonction Holderienne avec $\alpha = 1$
    }

    \item Localement HÃ¶lder :
    $$
    \forall x_0 \quad \begin{cases}
    (\forall x) \quad |f(x) - f(x_0)| < L_{\alpha(x_0)} |x-x_0|^{\alpha(x_0)}
    \\
    \quad 0 < {\alpha(x_0)} \leq 1 
    \end{cases}
    $$
\end{itemize}

\question{
    \smallskip\centering
    Pourquoi se concentrer sur des processus localement HÃ¶lder ?
}

La nature des phÃ©nomÃ¨nes rencontrÃ©s dans la vie rÃ©elle est souvent complexe. InfluencÃ©s par de nombreux phÃ©nomÃ¨nes, certains d'entre eux sont, comme mentionnÃ©s prÃ©cÃ©demment, irrÃ©guliers. C'est notamment le cas des courbes de charge Ã©lectriques, qui dÃ©pendent de multitudes de phÃ©nomÃ¨nes physiques ou comportementaux, dont on peut attendre une certaine rÃ©gularitÃ©, mais qui ne sont pas nÃ©cessairement uniformes tant sur leur niveau rÃ©gularitÃ© que l'intervalle de temps sur lequel ils ont une influence. On pourrait par exemple attendre une diffÃ©rence de rÃ©gularitÃ© de la production Ã©lectrique en plein Ã©tÃ© (soleil et tempÃ©rature stables \ldots) comparÃ© au mois de mars (plus grande instabilitÃ© des conditions climatiques).

De plus, les fonctions HÃ¶lderiennes reprÃ©sentent une classe suffisamment large de fonctions. L'espace de fonctions sur lequel on travail est donc devrait Ãªtre en pratique suffisamment grand pour inclure l'ensemble des processus qui nous intÃ©ressent.




\subsection{Estimation des paramÃ¨tres rÃ©gularitÃ© locale des trajectoire}




\subsection{PrÃ©lissage : lissage Ã  ondelettes}

Afin de pouvoir estimer la rÃ©gularitÃ© locale des trajectoires, nous allons lisser les trajectoires. En effet, celles-ci sont souvent bruitÃ©es, et il est nÃ©cessaire de lisser les trajectoires afin de pouvoir estimer la rÃ©gularitÃ© locale de faÃ§on pertinente. De plus si on veut estimer la rÃ©gularitÃ© en un point non observÃ©, il devient alors nÃ©cessaire de lisser les trajectoires afin de pouvoir estimer la rÃ©gularitÃ© en ce point. Cette Ã©tape de lissage est appelÃ©e prÃ©lissage de la courbe.

\question{
    \smallskip\centering
    Pourquoi parle-t-on de \textbf{prÃ©}-lissage ? Le but de considÃ©rer la rÃ©gularitÃ© n'Ã©tait-il pas justement de l'utiliser dans le lissage des trajectoires ? Lisser avant mÃªme d'estimer la rÃ©gularitÃ© n'est-il pas contre-productif ?
}

L'objectif de l'obtention des paramÃ¨tres de rÃ©gularitÃ© des trajectoires est de pouvoir effectuer un lissage de ces trajectoires qui prÃ©serve les irrÃ©gularitÃ©s fondamentales du processus dont elles sont issues, tout en Ã©liminant le bruit. Les paramÃ¨tres de rÃ©gularitÃ© sont donc dans un premier temps estimÃ©s en utilisant des trajectoires lissÃ©es puis utilisÃ©s pour effectuer un nouveau lissage Ã  noyaux en utilisant une fenÃªtre de lissage appropriÃ©e qui dÃ©pend de ces paramÃ¨tres. 
% @ todo : expression de h_ð›¼(t)
\editorwarn{inclure l'expression de $h_\alpha(t)$}
% @ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”


\subsubsection{Une brÃ¨ve introduction aux ondelettes}


Les ondelettes proviennent du monde du traÃ®tement du signal. Elles rÃ©pondent Ã  un problÃ¨me de reprÃ©sentation des donnÃ©es Ã  la fois dans le domaine temporel et dans le domaine frÃ©quentiel. En effet, la transformÃ©e de Fourier nous donne accÃ¨s aux frÃ©quences prÃ©sentes dans un signal mais ne nous permet pas de localiser Ã  quel moment sont intervenues les frÃ©quences spÃ©cifiques. Le thÃ©orÃ¨me d'indÃ©termination de Heisenberg stipule que l'on ne peut avoir une rÃ©solution parfaite Ã  la fois dans le domaine frÃ©quentiel et le domaine temporel, il y a un compromis qui doit Ãªtre fait. La question devient alors :

\question{
    \smallskip\centering
    Comment reprÃ©senter une fonction dans le domaine temporel et dans le domaine frÃ©quentiel de faÃ§on optimale ? En d'autres termes, quelle rÃ©solution temporelle et quelle rÃ©solution frÃ©quentielle choisir ?
}

Une premiÃ¨re approche proposÃ©e en 
% @ todo : complÃ©ter date et auteur â€” STFT
\editorwarn{complÃ©ter date} par \editorwarn{complÃ©ter auteur}
% @ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
est la transformÃ©e de Fourier Ã  court terme (STFT). Celle-ci consiste Ã  regarder la transformÃ©e de Fourier d'une fonction sur une fenÃªtre de taille fixe et Ã  faire glisser cette fenÃªtre sur la fonction. On obtient ainsi la reprÃ©sentation frÃ©quentielle de la fonction sur un intervalle de temps centrÃ© en un point que l'on peut faire varier. 

\bigskip

\begin{minipage}{0.32 \textwidth}
    \begin{figure}[H]
        \centering
        \includegraphics[width=\textwidth]{images/sketches/STFT.png}
        \caption{TransformÃ©e de Fourier Ã  court terme d'une fonction}
        \label{fig:STFT}
    \end{figure}
\end{minipage}
\hfill
\begin{minipage}{0.60 \textwidth}
 
    Cependant contrairement Ã  ce que peut suggÃ©rer le dessin prÃ©sentÃ© ici, la rÃ©solution frÃ©quentielle n'est pas parfaite. Elle est d'ailleurs dans le cadre de la TransformÃ©e de Fourier Ã  court terme constante, que ce soit sur le domaine temporel ou le domaine frÃ©quentiel. La rÃ©solution frÃ©quentielle est donc constante quelque soit la frÃ©quence considÃ©rÃ©e.

    \question{
        \smallskip\centering
        Quel est le problÃ¨me avec cette approche ?
    }

    le problÃ¨me ne vient pas du monde mathÃ©matique mais plutÃ´t du monde rÃ©el : les signaux que l'on observent prÃ©sentent la caractÃ©ristique suivante : Les signaux de basse frÃ©quence ont tendance Ã  s'Ã©tendre sur la durÃ©e, et les signaux de hautes frÃ©quences ont tendance Ã  Ãªtre trÃ¨s localisÃ©es, sous forme d'impulsion. Il devient alors clair que pour correctement identifier et localiser les frÃ©quences prÃ©sentes dans un signal, il est judicieux (voire parfois nÃ©cessaire) de varier la rÃ©solution frÃ©quentielle et temporaire (limitÃ©es par le thÃ©orÃ¨me d'indÃ©termination de Heisenberg) en fonction de ce qui est le plus difficile Ã  distinguer. C'est ce que proposent les ondelettes.
    
\end{minipage}

\subsubsection{Ondelettes}

\textbf{TransformÃ©e en ondelettes}

Introduisons maintenant de faÃ§on plus formelle les ondelettes et regardons leurs propriÃ©tÃ©s intÃ©ressantes dans le cadre du lissage de trajectoires.

on dÃ©finit la transformÃ©e en ondelettes vis Ã  vis de l'ondelette mÃ¨re $\psi$ d'une fonction $f$ par :

$$F : \begin{array}{ccc}
  \mathds R \times \mathds R_+  &\longrightarrow & \mathds R
    \\
   (t,s) & \longmapsto & \displaystyle\frac 1 { \sqrt{|s|}} \int_{\mathds R} f(\colorize{u}) \psi \left( \frac{\colorize{u}-t}{s} \right) \mathrm d \colorize{u}
\end{array}$$

\brain{on peut remarquer que la formule de la transformÃ©e en ondelettes ressemble Ã  une projection : $\displaystyle\frac{\langle f, \psi_{t,s} \rangle_{\mathds L^2}}{|| \psi_{t,s} ||}$. Cela vient en quelque sorte motiver la section suivante}

\textbf{Base d'ondelettes}

$$
\left( \psi_{k,n} : t \mapsto \frac 1 {\sqrt{2^k}} \psi( \frac{t - 2^k n}{2^k} ) \right)_{(k,n) \in \mathds Z^2} \textsf{ est une base } \underset {|| \cdot ||}{\perp} \textsf{ de } \mathds L^2
$$
 
\info{notons que les rÃ©solutions sont des puissances de 2, ceci est un dÃ©tail qui demandera une implÃ©mentation particuliÃ¨re dans le cadre des donnÃ©es rÃ©elles : il faudra faire attention Ã  ce que le nombre de points que l'on donne dans l'algorithme de transformÃ©e rapide en ondelettes soit aussi une puissance de 2.}

\textbf{PropriÃ©tÃ©s principales des ondelettes}

\smallskip

\begin{itemize}
    \item \textbf{Approximation dans l'espace frÃ©quentiel-temporel} : La transofrmÃ©e en ondelettes ( $\mathcal W : f \mapsto \langle f \, | \, \psi_{t,s} \rangle$ ) est une isomÃ©trie de $\mathds L^2$. Cela nous permet donc d'affirmer que $|| f - \hat f ||_{\mathds L^2} = || \mathcal W f - \mathcal W \hat f ||_{\mathds L^2}$. Ainsi on peut travailler dans l'espace des ondelettes pour approximer (dans notre cas lisser les trajectoires) des fonctions et contrÃ´ler l'approximation directement dans le domaine frÃ©quence-temporel tout en le conservant dans le domaine temporel. \citationrequise
    % @ todo : complÃ©ter citation â€” STFT : talk de StÃ©phane Mallat

    \item \textbf{PropriÃ©tÃ© de Fast Decay}
\end{itemize}





\subsubsection{Motivation dans le cadre de l'analyse de donnÃ©es fonctionnelles}

\subsubsection{Effets du lissage Ã  ondelettes sur la rÃ©gularitÃ© locale}

\section{Estimation adaptative}

\subsection{Estimation adaptative de la fonction moyenne}

\subsection{Estimation adaptative de l'opÃ©rateur de covariance}

\subsection{Estimation adaptative de l'auto-covariance des sÃ©ries temporelles fonctionnelles}